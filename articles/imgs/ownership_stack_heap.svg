<svg viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="400" fill="#f8f9fa"/>
  
  <defs>
    <!-- Standard Markers -->
    <marker id="arrow-blue" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="8" markerHeight="8" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#2196f3" />
    </marker>
    <marker id="arrow-orange" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="8" markerHeight="8" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#ff9800" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="400" y="35" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="22" font-weight="bold" fill="#333">栈 (Copy) vs 堆 (Move) 语义</text>

  <!-- Left Side: Stack (Copy) -->
  <g transform="translate(40, 60)">
    <rect width="340" height="310" rx="12" fill="white" stroke="#e0e0e0" stroke-width="1"/>
    <text x="170" y="30" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="16" font-weight="bold" fill="#2196f3">栈内存 (Stack): 定长数据</text>
    
    <!-- x -->
    <rect x="120" y="60" width="100" height="40" rx="4" fill="#e3f2fd" stroke="#2196f3" stroke-width="1.5"/>
    <text x="170" y="85" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="14" fill="#333">x: 5</text>
    
    <!-- Copy Arrow -->
    <line x1="170" y1="105" x2="170" y2="145" stroke="#2196f3" stroke-width="2" marker-end="url(#arrow-blue)"/>
    <text x="185" y="130" text-anchor="start" font-family="JetBrains Mono, monospace" font-size="12" fill="#2196f3">Copy (位拷贝)</text>
    
    <!-- y -->
    <rect x="120" y="155" width="100" height="40" rx="4" fill="#e3f2fd" stroke="#2196f3" stroke-width="1.5"/>
    <text x="170" y="180" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="14" fill="#333">y: 5</text>

    <text x="170" y="250" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="13" fill="#666">赋值 = 完整位拷贝</text>
    <text x="170" y="275" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="13" font-weight="bold" fill="#4caf50">✓ x 与 y 互不干扰</text>
  </g>

  <!-- Right Side: Heap (Move) -->
  <g transform="translate(420, 60)">
    <rect width="340" height="310" rx="12" fill="white" stroke="#e0e0e0" stroke-width="1"/>
    <text x="170" y="30" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="16" font-weight="bold" fill="#ff9800">堆内存 (Heap): 动态资源</text>

    <!-- s1 (Invalid) -->
    <rect x="60" y="60" width="120" height="40" rx="4" fill="#fff3e0" stroke="#ff9800" stroke-width="1.5" stroke-dasharray="4,2"/>
    <text x="120" y="85" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="13" fill="#9e9e9e">s1 (已失效)</text>
    
    <!-- Move Arrow -->
    <line x1="120" y1="105" x2="120" y2="145" stroke="#ff9800" stroke-width="2" marker-end="url(#arrow-orange)"/>
    <!-- Text moved slightly right and right-aligned to stay inside the white box -->
    <text x="110" y="130" text-anchor="end" font-family="JetBrains Mono, monospace" font-size="12" fill="#ff9800">Move (转移)</text>

    <!-- s2 (Owner) -->
    <rect x="60" y="155" width="120" height="40" rx="4" fill="#fff3e0" stroke="#ff9800" stroke-width="2"/>
    <text x="120" y="180" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="13" font-weight="bold" fill="#333">s2 (Owner)</text>

    <!-- Pointer to Heap -->
    <path d="M 185 175 C 200 175, 210 140, 230 130" fill="none" stroke="#ff9800" stroke-width="1.5" stroke-dasharray="2,2" marker-end="url(#arrow-orange)"/>

    <!-- Heap Data -->
    <rect x="235" y="80" width="90" height="70" rx="8" fill="#e8f5e9" stroke="#4caf50" stroke-width="2"/>
    <text x="280" y="110" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="14" font-weight="bold" fill="#2e7d32">"Hello"</text>
    <text x="280" y="130" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="10" fill="#4caf50">堆内存</text>

    <text x="170" y="250" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="13" fill="#666">赋值 = 仅移动指针</text>
    <text x="170" y="275" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="13" font-weight="bold" fill="#ef5350">⚠ s1 立即失效 (防 Double Free)</text>
  </g>
</svg>