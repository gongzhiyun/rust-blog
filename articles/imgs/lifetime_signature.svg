<?xml version="1.0" encoding="UTF-8"?>
<svg width="600" height="260" viewBox="0 0 600 260" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect x="0" y="0" width="600" height="260" rx="12" fill="#f8f9fa" stroke="#e0e0e0" stroke-width="1"/>
  <text x="300" y="40" text-anchor="middle" font-family="monospace" font-size="16" font-weight="bold" fill="#333333">函数签名：生命周期路径流转</text>

  <!-- Input Area -->
  <rect x="40" y="70" width="340" height="110" rx="10" fill="#e3f2fd" stroke="#2196f3" stroke-width="1.5" stroke-dasharray="4"/>
  <text x="210" y="90" text-anchor="middle" font-family="monospace" font-size="12" font-weight="bold" fill="#0d47a1">Input Arguments</text>

  <!-- Output Area -->
  <rect x="400" y="70" width="160" height="110" rx="10" fill="#e8f5e9" stroke="#4caf50" stroke-width="1.5" stroke-dasharray="4"/>
  <text x="480" y="90" text-anchor="middle" font-family="monospace" font-size="12" font-weight="bold" fill="#1b5e20">Output</text>

  <!-- Code Signature Box -->
  <rect x="60" y="105" width="480" height="50" rx="6" fill="#ffffff" stroke="#e0e0e0" stroke-width="1"/>
  <text x="75" y="138" font-family="monospace" font-size="16" fill="#333333">
    fn longest&lt;<tspan fill="#9c27b0" font-weight="bold">'a</tspan>&gt;(x: &amp;<tspan fill="#2196f3" font-weight="bold">'a</tspan> str, y: &amp;<tspan fill="#2196f3" font-weight="bold">'a</tspan> str) -&gt; &amp;<tspan fill="#4caf50" font-weight="bold">'a</tspan> str
  </text>

  <!-- Logic Arrows -->
  <defs>
    <marker id="arrow-blue" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0,0 8,3 0,6" fill="#2196f3" />
    </marker>
    <marker id="arrow-green" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0,0 8,3 0,6" fill="#4caf50" />
    </marker>
  </defs>

  <!-- Constraints Flow -->
  <path d="M 235 145 L 235 200 L 475 200 L 475 160" stroke="#ff9800" stroke-width="2" fill="none" stroke-dasharray="4"/>
  <path d="M 355 145 L 355 200" stroke="#ff9800" stroke-width="2" fill="none" stroke-dasharray="4"/>
  <polygon points="470,165 475,155 480,165" fill="#ff9800"/>

  <!-- Legend -->
  <text x="300" y="225" text-anchor="middle" font-family="monospace" font-size="12" fill="#e65100" font-weight="bold">生命周期约束传递路径</text>
  
  <text x="60" y="245" font-family="monospace" font-size="10" fill="#78909c">1. 泛型 'a 定义边界</text>
  <text x="210" y="245" font-family="monospace" font-size="10" fill="#78909c">2. 输入必须存活 >= 'a</text>
  <text x="400" y="245" font-family="monospace" font-size="10" fill="#78909c">3. 返回值确保在 'a 内有效</text>
</svg>
