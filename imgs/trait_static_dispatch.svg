<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="460" viewBox="0 0 800 460" xmlns="http://www.w3.org/2000/svg">
  <!-- 背景 -->
  <rect width="800" height="460" fill="#f8f9fa" rx="12"/>
  
  <!-- 标题 -->
  <text x="400" y="40" font-family="JetBrains Mono, monospace" font-size="22" font-weight="bold" text-anchor="middle" fill="#333333">特型：静态分发 (Monomorphization)</text>
  
  <!-- 源代码部分 -->
  <g transform="translate(40, 100)">
    <rect width="240" height="140" rx="8" fill="#e3f2fd" stroke="#2196f3" stroke-width="2"/>
    <rect width="240" height="30" rx="8" fill="#2196f3"/>
    <path d="M 0 25 L 240 25" stroke="#2196f3" stroke-width="2"/>
    <text x="120" y="20" font-family="JetBrains Mono, monospace" font-size="14" font-weight="bold" text-anchor="middle" fill="#ffffff">泛型源码 (Generic Source)</text>
    
    <text x="15" y="55" font-family="JetBrains Mono, monospace" font-size="12" fill="#333333">fn print&lt;T: Show&gt;(x: T) {</text>
    <text x="30" y="75" font-family="JetBrains Mono, monospace" font-size="12" fill="#333333">x.show();</text>
    <text x="15" y="95" font-family="JetBrains Mono, monospace" font-size="12" fill="#333333">}</text>
    
    <text x="15" y="125" font-family="JetBrains Mono, monospace" font-size="11" font-style="italic" fill="#78909c">// 一份源码，多种可能</text>
  </g>

  <!-- 性能特点块 (上移并调整宽度，使其更紧凑) -->
  <g transform="translate(40, 260)">
    <rect width="240" height="70" rx="8" fill="#fff8e1" stroke="#ff9800" stroke-width="1"/>
    <text x="120" y="22" font-family="JetBrains Mono, monospace" font-size="13" font-weight="bold" text-anchor="middle" fill="#ff9800">性能与权衡</text>
    <text x="20" y="45" font-family="JetBrains Mono, monospace" font-size="11" fill="#333333">🚀 零成本抽象 (内联优化)</text>
    <text x="20" y="62" font-family="JetBrains Mono, monospace" font-size="11" fill="#333333">📦 二进制体积随类型增加</text>
  </g>

  <!-- 编译器部分 -->
  <g transform="translate(320, 120)">
    <rect width="160" height="100" rx="50" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2" stroke-dasharray="4,2"/>
    <text x="80" y="45" font-family="JetBrains Mono, monospace" font-size="14" font-weight="bold" text-anchor="middle" fill="#9c27b0">Rust 编译器</text>
    <text x="80" y="65" font-family="JetBrains Mono, monospace" font-size="12" text-anchor="middle" fill="#9c27b0">(单态化处理)</text>
    
    <!-- 箭头 -->
    <path d="M -40 20 L -10 20" stroke="#78909c" stroke-width="2" marker-end="url(#arrow-gray)"/>
    <path d="M 170 20 L 200 0" stroke="#78909c" stroke-width="2" marker-end="url(#arrow-gray)"/>
    <path d="M 170 40 L 200 70" stroke="#78909c" stroke-width="2" marker-end="url(#arrow-gray)"/>
  </g>

  <!-- 实例化机器码部分 -->
  <g transform="translate(520, 90)">
    <rect width="240" height="340" rx="8" fill="#ffffff" stroke="#e0e0e0" stroke-width="1" stroke-dasharray="5,5"/>
    <text x="120" y="-15" font-family="JetBrains Mono, monospace" font-size="14" font-weight="bold" text-anchor="middle" fill="#78909c">生成的机器码 (Binary)</text>
    
    <!-- u32 版本 -->
    <g transform="translate(10, 20)">
      <rect width="220" height="110" rx="6" fill="#e8f5e9" stroke="#4caf50" stroke-width="2"/>
      <text x="110" y="25" font-family="JetBrains Mono, monospace" font-size="12" font-weight="bold" text-anchor="middle" fill="#4caf50">针对 u32 实例化</text>
      <text x="10" y="50" font-family="JetBrains Mono, monospace" font-size="11" fill="#333333">fn print_u32(x: u32) {</text>
      <text x="25" y="70" font-family="JetBrains Mono, monospace" font-size="11" fill="#333333">// 针对 u32 的内联优化</text>
      <text x="10" y="90" font-family="JetBrains Mono, monospace" font-size="11" fill="#333333">}</text>
    </g>
    
    <!-- String 版本 -->
    <g transform="translate(10, 150)">
      <rect width="220" height="110" rx="6" fill="#e8f5e9" stroke="#4caf50" stroke-width="2"/>
      <text x="110" y="25" font-family="JetBrains Mono, monospace" font-size="12" font-weight="bold" text-anchor="middle" fill="#4caf50">针对 String 实例化</text>
      <text x="10" y="50" font-family="JetBrains Mono, monospace" font-size="11" fill="#333333">fn print_str(x: String) {</text>
      <text x="25" y="70" font-family="JetBrains Mono, monospace" font-size="11" fill="#333333">// 针对 String 的专用逻辑</text>
      <text x="10" y="90" font-family="JetBrains Mono, monospace" font-size="11" fill="#333333">}</text>
    </g>
    
    <text x="120" y="300" font-family="JetBrains Mono, monospace" font-size="12" text-anchor="middle" fill="#78909c">...</text>
  </g>

  <!-- 箭头定义 -->
  <defs>
    <marker id="arrow-gray" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#78909c"/>
    </marker>
  </defs>
</svg>